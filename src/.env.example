# =============================================================================
# NFS-e Nacional - Environment Configuration
# =============================================================================
# Copy this file to .env and configure the values for your environment.
# NEVER commit .env files with real credentials to version control.
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
# Port the API server listens on
PORT=8080

# Environment: development, staging, production
ENV=development

# -----------------------------------------------------------------------------
# MongoDB Configuration
# -----------------------------------------------------------------------------
# MongoDB connection URI
# For development: mongodb://admin:admin123@localhost:27017
# For production: use authenticated URI with replica set
MONGO_URI=mongodb://admin:admin123@localhost:27017

# MongoDB database name for NFS-e documents
MONGO_DATABASE=nfse

# MongoDB root credentials (used by docker-compose)
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=admin123

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
# Redis connection URL for Asynq job queue and rate limiting
# For development: redis://localhost:6379
# For production: use authenticated URI with TLS
REDIS_URL=redis://localhost:6379

# -----------------------------------------------------------------------------
# Government API (SEFIN) Configuration
# -----------------------------------------------------------------------------
# Base URL for the Sistema Nacional NFS-e API
# Production: https://www.nfse.gov.br/api
# Homologation: https://hom.nfse.gov.br/api
SEFIN_API_URL=https://hom.nfse.gov.br/api

# SEFIN environment: producao, homologacao
SEFIN_ENVIRONMENT=homologacao

# Timeout for SEFIN API requests (in seconds)
SEFIN_TIMEOUT=30

# -----------------------------------------------------------------------------
# Certificate Configuration (for XML Digital Signatures)
# -----------------------------------------------------------------------------
# Path to the PKCS#12 (.pfx/.p12) certificate file
CERT_PATH=/path/to/certificate.pfx

# Certificate password
CERT_PASSWORD=

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Log format: json, text
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# Worker Configuration
# -----------------------------------------------------------------------------
# Number of concurrent workers for async job processing
WORKER_CONCURRENCY=10

# Maximum retry attempts for failed jobs
WORKER_MAX_RETRIES=3

# -----------------------------------------------------------------------------
# Rate Limiting Configuration
# -----------------------------------------------------------------------------
# Maximum requests per second per client
RATE_LIMIT_RPS=10

# Maximum burst size for rate limiting
RATE_LIMIT_BURST=20

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------
# API key for service authentication (generate a secure random string)
API_KEY=

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# JWT secret for token signing (generate a secure random string)
JWT_SECRET=
